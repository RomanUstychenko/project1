"use strict";(self.webpackChunkproject1=self.webpackChunkproject1||[]).push([[0],{7e3:function(e,n,t){t.r(n),t.d(n,{default:function(){return ne}});var r=t(9439),i=t(2791),a=t(5984),s="ItemForm_form__MqImS",o="ItemForm_formInput__8YeUO",c="ItemForm_formInputName__0o+kP",l="ItemForm_formInputTel__NDaoU",d="ItemForm_formBtn__MJzn3",u=t(9434),m=function(e){return e.items.items},p=function(e){return e.items.itemsByCategory},f=function(e){var n=e.items;return{loading:n.loading,error:n.error}},v=function(e){var n=e.filter,t=e.items;if(!n)return t.items},x=t(3965),h=t(5264),j=t(184);function g(e){e.onClick;var n=e.setModalActive,t=(0,u.v9)(v);console.log(t);var m=(0,u.I0)(),p=(0,i.useState)(""),f=(0,r.Z)(p,2),g=f[0],y=f[1],_=(0,i.useState)(""),b=(0,r.Z)(_,2),N=b[0],C=b[1],w=(0,i.useState)(""),k=(0,r.Z)(w,2),I=k[0],F=k[1],A=(0,a.x0)(),Z=(0,a.x0)(),z=(0,a.x0)(),L=function(e){switch(e.currentTarget.name){case"itemName":y(e.currentTarget.value);break;case"description":F(e.currentTarget.value);break;case"price":C(e.currentTarget.value)}};return(0,j.jsx)("form",{onClick:function(e){return e.stopPropagation()},className:s,onSubmit:function(e){e.preventDefault(),t.find((function(e){return e.itemName.toLocaleLowerCase()===g.toLocaleLowerCase()}))?h.Notify.failure("".concat(g," is already in item")):""===I?(m((0,x.$)({itemName:g,price:N})),y(""),C(""),n(!1)):(m((0,x.$)({itemName:g,description:I,price:N})),y(""),F(""),C(""),n(!1))},children:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:o,children:[(0,j.jsx)("label",{htmlFor:A,children:"Name"}),(0,j.jsx)("input",{className:c,id:A,type:"text",name:"itemName",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,value:g,onChange:L})]}),(0,j.jsxs)("div",{className:o,children:[(0,j.jsx)("label",{htmlFor:z,children:"Description"}),(0,j.jsx)("input",{className:c,id:z,type:"text",name:"description",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",value:I,onChange:L})]}),(0,j.jsxs)("div",{className:o,children:[(0,j.jsx)("label",{htmlFor:Z,children:"Price"}),(0,j.jsx)("input",{className:l,id:Z,type:"number",name:"price",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",value:N,onChange:L,required:!0})]}),(0,j.jsx)("button",{className:d,type:"submit",children:"Add"})]})})}var y=function(e){return e.filter};function _(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}var b,N=t(6444),C=N.ZP.div(b||(b=_(["\n  position: fixed;\n  z-index: 1000;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(17, 17, 17, 0.6);\n  backdrop-filter: blur(10px);\n  overflow-y: scroll;\n  overflow-x: hidden;\n  transition: 0.5s;\n  align-items: center;\njustify-content: center;\n  display: flex;\n  opacity: 0;\npointer-events: none;\ntransition: 1s;\n&.active {\n    opacity: 1;\n    pointer-events: all;\n  };\n"]))),w=function(e){var n=e.active,t=(e.className,e.onClick),r=e.setActive,i=e.children;return window.addEventListener("keydown",(function(e){"Escape"===e.code&&(r(!1),document.body.style.overflow="")})),(0,j.jsx)(C,{className:n?"modal active":"modal",onClick:t,children:i})},k="ItemInList_contactList__+imzO",I="ItemInList_delContacts__KmERu";function F(e){var n=e.filteredItem,t=(0,u.v9)(p);console.log(t);var a=n.itemName,s=n.description,o=n.price,c=n.section,l=n._id,d=n.itemImg;console.log("section",c);var m=(0,u.I0)(),f=(0,i.useState)(!1),v=(0,r.Z)(f,2),h=v[0],g=v[1];return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("li",{className:k,children:[(0,j.jsx)("b",{children:"Name:"}),"  ",a," ",(0,j.jsx)("br",{}),(0,j.jsx)("b",{children:"Description:"}),"  ",s," ",(0,j.jsx)("br",{}),(0,j.jsx)("b",{children:"Price:"})," ",o," ",(0,j.jsx)("br",{}),(0,j.jsx)("b",{children:"img:"})," ",d,(0,j.jsx)("b",{children:"Section:"})," ",c,(0,j.jsx)("span",{className:I,onClick:function(){return g(!0)},children:"Delete"})]},l),h&&(0,j.jsx)(w,{onClick:function(){return g(!1),void(document.body.style.overflow="")},active:h,setActive:g,children:(0,j.jsxs)("div",{onClick:function(e){return e.stopPropagation()},children:["Do you really wont to delete?",(0,j.jsx)("button",{onClick:function(){m((0,x.wz)(l))},children:"yes"})]})})]})}var A,Z,z,L,P,M,S=function(e){var n=e.itemsCategory;console.log(n);var t=(0,u.v9)(y);return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)("ul",{children:function(){if(!t)return n;var e=t.toLocaleLowerCase();return n.filter((function(n){return n.itemName.toLocaleLowerCase().includes(e)}))}().map((function(e){return(0,j.jsx)(F,{filteredItem:e},e._id)}))})})},T="Filter_contactFilterInput__A7VY6",D="Filter_contactFilterLabel__EgZcb",E="Filter_contactFilter__CK3n0",O=t(5653),B=function(){var e=(0,u.v9)(y),n=(0,u.I0)(),t=(0,a.x0)();return(0,j.jsxs)("div",{className:E,children:[(0,j.jsx)("label",{className:D,htmlFor:t,children:"Find items by name"}),(0,j.jsx)("input",{className:T,type:"text",name:"filter",value:e,onChange:function(e){var t=e.target.value;n((0,O.T)(t))},title:"Search",required:!0})]})},$="MenuItems_phoneBook__F5LYd",q="MenuItems_contactForm__7640z",U="MenuItems_contacts__9spuF",Y="MenuItems_contactsLoading__XYypV",J=function(e){return e.sections.sections},V=t(1087),K=N.ZP.div(A||(A=_(["\n  position: relative;\n\n"]))),R=N.ZP.ul(Z||(Z=_(["\n  list-style: none;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  flex-wrap: wrap;\n  gap: 12px;\n\n"]))),G=N.ZP.li(z||(z=_(["\n  display: flex;\n"]))),H=(0,N.ZP)(V.OL)(L||(L=_(["\n\n  line-height: 1.35;\n  letter-spacing: 0.04em;\n  \n  padding: 8px 28px;\n  transition: color 250ms linear, background-color 250ms linear;\n  &:hover,\n  &:focus {\n   \n    cursor: pointer;\n  }\n  &.active {\n   \n  }\n\n"]))),X=N.ZP.div(P||(P=_(["\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  flex-wrap: wrap-reverse;\n  gap: 12px;\n \n"])));N.ZP.div(M||(M=_(["\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  gap: 12px;\n"])));var Q=function(e){var n=e.section.category,t=[{btn:n,link:n}];return(0,j.jsx)(K,{children:(0,j.jsx)(R,{children:(0,j.jsx)(X,{children:t.map((function(e){return(0,j.jsx)(G,{children:(0,j.jsx)(H,{to:"/items/"+e.link,name:e.link,children:e.btn})},(0,a.x0)())}))})})})},W=t(7689),ee=t(8818);function ne(){var e=(0,W.TH)().pathname.split("/")[2],n=(0,i.useState)(!1),t=(0,r.Z)(n,2),a=t[0],s=t[1];var o=(0,u.I0)(),c=(0,u.v9)(m),l=(0,u.v9)(p),d=(0,u.v9)(J);console.log(d);var v=(0,u.v9)(f),h=v.loading,y=v.error;return(0,i.useEffect)((function(){o((0,x.Ez)()),o((0,ee.Gr)()),void 0===e||o((0,x.$0)({category:e}))}),[o,e]),(0,j.jsxs)("div",{className:$,children:[(0,j.jsxs)("div",{className:q,children:[(0,j.jsx)("ul",{children:d.map((function(e){return(0,j.jsx)(Q,{section:e})}))}),a&&(0,j.jsx)(w,{onClick:function(){return s(!1),void(document.body.style.overflow="")},active:a,setActive:s,children:(0,j.jsx)(g,{onClick:function(e){return e.stopPropagation()},setModalActive:s})})]}),(0,j.jsxs)("div",{className:U,children:[(0,j.jsx)("h2",{children:"Menu"}),(0,j.jsx)(B,{}),!h&&c.length>0&&(0,j.jsx)(S,{items:c,itemsCategory:l}),h&&(0,j.jsx)("p",{className:Y,children:"...loading"}),y&&(0,j.jsx)("p",{children:"oops, something went wrong"})]}),(0,j.jsx)("button",{type:"button",onClick:function(){return s(!0)},children:"Add Item"})]})}},5984:function(e,n,t){t.d(n,{x0:function(){return r}});var r=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,n="",t=crypto.getRandomValues(new Uint8Array(e));e--;){var r=63&t[e];n+=r<36?r.toString(36):r<62?(r-26).toString(36).toUpperCase():r<63?"_":"-"}return n}}}]);
//# sourceMappingURL=0.e4b28fe3.chunk.js.map