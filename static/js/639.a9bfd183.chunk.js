"use strict";(self.webpackChunkproject1=self.webpackChunkproject1||[]).push([[639],{6639:function(e,n,t){t.r(n),t.d(n,{default:function(){return ie}});var r=t(9439),a=t(2791),i=t(5984),o="ModalItemForm_form__-+3k4",s="ModalItemForm_formInput__adINV",c="ModalItemForm_formInputName__Q6Z+x",l="ModalItemForm_formInputTel__URgjM",d="ModalItemForm_formBtn__f7UqB",u=t(9434),m=t(3965),p=t(5264),f=t(184);function x(e){e.onClick;var n=e.setModalActive,t=e.category,x=e.itemsCategory,h=(0,u.I0)(),v=(0,a.useState)(""),j=(0,r.Z)(v,2),g=j[0],y=j[1],_=(0,a.useState)(""),b=(0,r.Z)(_,2),N=b[0],C=b[1],k=(0,a.useState)(""),F=(0,r.Z)(k,2),A=F[0],I=F[1],w=(0,a.useState)(t),Z=(0,r.Z)(w,2),M=Z[0],S=Z[1],L=(0,i.x0)(),z=(0,i.x0)(),P=(0,i.x0)(),T=function(e){switch(e.currentTarget.name){case"itemName":y(e.currentTarget.value);break;case"description":I(e.currentTarget.value);break;case"price":C(e.currentTarget.value)}};return(0,f.jsx)("form",{onClick:function(e){return e.stopPropagation()},className:o,onSubmit:function(e){e.preventDefault(),x.find((function(e){return e.itemName.toLocaleLowerCase()===g.toLocaleLowerCase()}))?p.Notify.failure("".concat(g," is already in item")):""===A?(S(t),h((0,m.$)({itemName:g,price:N,section:M})),y(""),C(""),S(""),n(!1)):(S(t),h((0,m.$)({itemName:g,description:A,price:N,section:M})),y(""),I(""),C(""),S(""),n(!1))},children:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:s,children:[(0,f.jsx)("label",{htmlFor:L,children:"Name"}),(0,f.jsx)("input",{className:c,id:L,type:"text",name:"itemName",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,value:g,onChange:T})]}),(0,f.jsxs)("div",{className:s,children:[(0,f.jsx)("label",{htmlFor:P,children:"Description"}),(0,f.jsx)("input",{className:c,id:P,type:"text",name:"description",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",value:A,onChange:T})]}),(0,f.jsxs)("div",{className:s,children:[(0,f.jsx)("label",{htmlFor:z,children:"Price"}),(0,f.jsx)("input",{className:l,id:z,type:"number",name:"price",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",value:N,onChange:T,required:!0})]}),(0,f.jsx)("button",{className:d,type:"submit",children:"Add"})]})})}var h="ModalSectionForm_form__tsdCk",v="ModalSectionForm_formInput__0syn9",j="ModalSectionForm_formInputName__uNNee",g="ModalSectionForm_formBtn__-DNOk",y=function(e){return e.sections.sections},_=t(8818);function b(e){e.onClick;var n=e.setModalSectionActive,t=(0,u.v9)(y),o=(0,u.I0)(),s=(0,a.useState)(""),c=(0,r.Z)(s,2),l=c[0],d=c[1],m=(0,i.x0)();return(0,f.jsx)("form",{onClick:function(e){return e.stopPropagation()},className:h,onSubmit:function(e){e.preventDefault(),t.find((function(e){return e.category.toLocaleLowerCase()===l.toLocaleLowerCase()}))?p.Notify.failure("".concat(l," is already in item")):(o((0,_.qG)({category:l})),d(""),n(!1))},children:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:v,children:[(0,f.jsx)("label",{htmlFor:m,children:"Name"}),(0,f.jsx)("input",{className:j,id:m,type:"text",name:"category",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,value:l,onChange:function(e){if("category"===e.currentTarget.name)d(e.currentTarget.value)}})]}),(0,f.jsx)("button",{className:g,type:"submit",children:"Add"})]})})}var N=function(e){return e.filter};function C(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}var k,F=t(6444),A=F.ZP.div(k||(k=C(["\n  position: fixed;\n  z-index: 1000;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(17, 17, 17, 0.6);\n  backdrop-filter: blur(10px);\n  overflow-y: scroll;\n  overflow-x: hidden;\n  transition: 0.5s;\n  align-items: center;\njustify-content: center;\n  display: flex;\n  opacity: 0;\npointer-events: none;\ntransition: 1s;\n&.active {\n    opacity: 1;\n    pointer-events: all;\n  };\n"]))),I=function(e){var n=e.active,t=(e.className,e.onClick),r=e.setActive,a=e.children;return window.addEventListener("keydown",(function(e){"Escape"===e.code&&(r(!1),document.body.style.overflow="")})),(0,f.jsx)(A,{className:n?"modal active":"modal",onClick:t,children:a})},w="ItemInList_contactList__ZeV7i",Z="ItemInList_delContacts__9o6iY";function M(e){var n=e.filteredItem,t=(0,i.x0)(),o=n.itemName,s=n.description,c=n.price,l=n.section,d=n._id,p=n.itemImg,x=(0,u.I0)(),h=(0,a.useState)(!1),v=(0,r.Z)(h,2),j=v[0],g=v[1];function y(){g(!1),document.body.style.overflow=""}return(0,f.jsxs)(f.Fragment,{children:[n&&(0,f.jsxs)("li",{className:w,children:[(0,f.jsx)("b",{children:"Name:"}),"  ",o," ",(0,f.jsx)("br",{}),(0,f.jsx)("b",{children:"Description:"}),"  ",s," ",(0,f.jsx)("br",{}),(0,f.jsx)("b",{children:"Price:"})," ",c," ",(0,f.jsx)("br",{}),(0,f.jsx)("b",{children:"img:"})," ",p,(0,f.jsx)("b",{children:"Section:"})," ",l,(0,f.jsx)("span",{className:Z,onClick:function(){return g(!0)},children:"Delete"})]},t),j&&(0,f.jsx)(I,{onClick:function(){return y()},active:j,setActive:g,children:(0,f.jsxs)("div",{onClick:function(e){return e.stopPropagation()},children:["Do you really wont to delete?",(0,f.jsx)("button",{onClick:function(){x((0,m.wz)(d)),y()},children:"yes"})]})})]})}var S,L,z,P,T,B,D=function(e){var n=e.itemsCategory;console.log(n);var t=(0,u.v9)(N);return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("ul",{children:function(){if(!t)return n;var e=t.toLocaleLowerCase();return n.filter((function(n){return n.itemName.toLocaleLowerCase().includes(e)}))}().map((function(e){return(0,f.jsx)(M,{filteredItem:e},e._id)}))})})},q="Filter_contactFilterInput__A7VY6",$="Filter_contactFilterLabel__EgZcb",O="Filter_contactFilter__CK3n0",V=t(5653),E=function(){var e=(0,u.v9)(N),n=(0,u.I0)(),t=(0,i.x0)();return(0,f.jsxs)("div",{className:O,children:[(0,f.jsx)("label",{className:$,htmlFor:t,children:"Find items by name"}),(0,f.jsx)("input",{className:q,type:"text",name:"filter",value:e,onChange:function(e){var t=e.target.value;n((0,V.T)(t))},title:"Search",required:!0})]})},U="MenuItems_phoneBook__F5LYd",Y="MenuItems_contactForm__7640z",J="MenuItems_contacts__9spuF",G="MenuItems_contactsLoading__XYypV",R=function(e){return e.items.items},H=function(e){return e.items.itemsByCategory},K=function(e){var n=e.items;return{loading:n.loading,error:n.error}},Q=t(1087),X=F.ZP.div(S||(S=C(["\n  position: relative;\n\n"]))),W=F.ZP.ul(L||(L=C(["\n  list-style: none;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  flex-wrap: wrap;\n  gap: 12px;\n\n"]))),ee=F.ZP.li(z||(z=C(["\n  display: flex;\n"]))),ne=(0,F.ZP)(Q.OL)(P||(P=C(["\n\n  line-height: 1.35;\n  letter-spacing: 0.04em;\n  \n  padding: 8px 28px;\n  transition: color 250ms linear, background-color 250ms linear;\n  &:hover,\n  &:focus {\n   \n    cursor: pointer;\n  }\n  &.active {\n   \n  }\n\n"]))),te=F.ZP.div(T||(T=C(["\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  flex-wrap: wrap-reverse;\n  gap: 12px;\n \n"])));F.ZP.div(B||(B=C(["\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  gap: 12px;\n"])));var re=function(e){var n=e.section.category,t=[{btn:n,link:n}];return(0,f.jsx)(X,{children:(0,f.jsx)(W,{children:(0,f.jsx)(te,{children:t.map((function(e){return(0,f.jsx)(ee,{children:(0,f.jsx)(ne,{to:"/items/"+e.link,name:e.link,children:e.btn})},(0,i.x0)())}))})})})},ae=t(7689);function ie(){var e=(0,ae.TH)().pathname.split("/")[2],n=(0,a.useState)(!1),t=(0,r.Z)(n,2),i=t[0],o=t[1],s=(0,a.useState)(!1),c=(0,r.Z)(s,2),l=c[0],d=c[1];function p(){o(!1),d(!1),document.body.style.overflow=""}var h=(0,u.I0)(),v=(0,u.v9)(R),j=(0,u.v9)(H),g=(0,u.v9)(y),N=(0,u.v9)(K),C=N.loading,k=N.error;return(0,a.useEffect)((function(){h((0,_.Gr)()),void 0===e||h((0,m.$0)({category:e}))}),[h,e,v]),(0,f.jsxs)("div",{className:U,children:[(0,f.jsxs)("div",{className:Y,children:[(0,f.jsx)("ul",{children:g.map((function(e){return(0,f.jsx)(re,{section:e})}))}),(0,f.jsx)("button",{type:"button",onClick:function(){return d(!0)},children:"Add Section"}),l&&(0,f.jsx)(I,{onClick:function(){return p()},active:l,setActive:d,children:(0,f.jsx)(b,{onClick:function(e){return e.stopPropagation()},setModalSectionActive:d})}),i&&(0,f.jsx)(I,{onClick:function(){return p()},active:i,setActive:o,children:(0,f.jsx)(x,{onClick:function(e){return e.stopPropagation()},setModalActive:o,category:e,itemsCategory:j})})]}),(0,f.jsxs)("div",{className:J,children:[(0,f.jsx)("h2",{children:"Menu"}),(0,f.jsx)(E,{}),!C&&v.length>0&&(0,f.jsx)(D,{items:v,itemsCategory:j}),C&&(0,f.jsx)("p",{className:G,children:"...loading"}),k&&(0,f.jsx)("p",{children:"No items yet"})]}),(0,f.jsx)("button",{type:"button",onClick:function(){return o(!0)},children:"Add Item"})]})}},5984:function(e,n,t){t.d(n,{x0:function(){return r}});var r=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,n="",t=crypto.getRandomValues(new Uint8Array(e));e--;){var r=63&t[e];n+=r<36?r.toString(36):r<62?(r-26).toString(36).toUpperCase():r<63?"_":"-"}return n}}}]);
//# sourceMappingURL=639.a9bfd183.chunk.js.map