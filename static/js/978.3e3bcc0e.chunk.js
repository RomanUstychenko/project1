"use strict";(self.webpackChunkproject1=self.webpackChunkproject1||[]).push([[978],{5978:function(e,t,n){n.r(t),n.d(t,{default:function(){return le}});var a=n(9439),r=n(2791),i=n(5984),o="ModalItemForm_form__-+3k4",c="ModalItemForm_formInput__adINV",s="ModalItemForm_formInputName__Q6Z+x",l="ModalItemForm_formInputTel__URgjM",u="ModalItemForm_formBtn__f7UqB",d=n(9434),m=n(3965),f=n(5264),p=n(184);function x(e){var t=e.setModalActive,n=e.category,x=e.itemsCategory;console.log(x);var h=(0,d.I0)(),v=(0,r.useState)(""),g=(0,a.Z)(v,2),_=g[0],j=g[1],y=(0,r.useState)(""),N=(0,a.Z)(y,2),C=N[0],b=N[1],Z=(0,r.useState)(""),k=(0,a.Z)(Z,2),I=k[0],A=k[1],w=(0,r.useState)(n),F=(0,a.Z)(w,2),M=F[0],S=F[1],z=(0,i.x0)(),L=(0,i.x0)(),P=(0,i.x0)(),T=function(e){switch(e.currentTarget.name){case"itemName":j(e.currentTarget.value);break;case"description":A(e.currentTarget.value);break;case"price":b(e.currentTarget.value)}};return(0,p.jsx)("form",{onClick:function(e){return e.stopPropagation()},className:o,onSubmit:function(e){e.preventDefault(),x.find((function(e){return e.itemName.toLocaleLowerCase()===_.toLocaleLowerCase()}))?f.Notify.failure("".concat(_," is already in item")):""===I?(S(n),h((0,m.$)({itemName:_,price:C,section:M})),j(""),b(""),S(""),t(!1)):(S(n),h((0,m.$)({itemName:_,description:I,price:C,section:M})),j(""),A(""),b(""),S(""),t(!1))},children:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:c,children:[(0,p.jsx)("label",{htmlFor:z,children:"Name"}),(0,p.jsx)("input",{className:s,id:z,type:"text",name:"itemName",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,value:_,onChange:T})]}),(0,p.jsxs)("div",{className:c,children:[(0,p.jsx)("label",{htmlFor:P,children:"Description"}),(0,p.jsx)("input",{className:s,id:P,type:"text",name:"description",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",value:I,onChange:T})]}),(0,p.jsxs)("div",{className:c,children:[(0,p.jsx)("label",{htmlFor:L,children:"Price"}),(0,p.jsx)("input",{className:l,id:L,type:"number",name:"price",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",value:C,onChange:T,required:!0})]}),(0,p.jsx)("button",{className:u,type:"submit",children:"Add"})]})})}var h="ModalSectionForm_form__tsdCk",v="ModalSectionForm_formInput__0syn9",g="ModalSectionForm_formInputName__uNNee",_="ModalSectionForm_formBtn__-DNOk",j=n(6002),y=n(8818);function N(e){e.onClick;var t=e.setModalSectionActive,n=(0,d.v9)(j.OY),o=(0,d.I0)(),c=(0,r.useState)(""),s=(0,a.Z)(c,2),l=s[0],u=s[1],m=(0,i.x0)();return(0,p.jsx)("form",{onClick:function(e){return e.stopPropagation()},className:h,onSubmit:function(e){e.preventDefault(),n.find((function(e){return e.category.toLocaleLowerCase()===l.toLocaleLowerCase()}))?f.Notify.failure("".concat(l," is already in item")):(o((0,y.qG)({category:l})),u(""),t(!1))},children:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:v,children:[(0,p.jsx)("label",{htmlFor:m,children:"Name"}),(0,p.jsx)("input",{className:g,id:m,type:"text",name:"category",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,value:l,onChange:function(e){if("category"===e.currentTarget.name)u(e.currentTarget.value)}})]}),(0,p.jsx)("button",{className:_,type:"submit",children:"Add"})]})})}var C=function(e){return e.filter},b=n(2658),Z="ItemInList_contactList__ZeV7i",k="ItemInList_delContacts__9o6iY",I="ModalItemDetail_form__x-gZ-",A="ModalItemDetail_formInput__-IBL2",w="ModalItemDetail_formInputName__FASfh",F="ModalItemDetail_formBtn__dFB10";function M(e){var t=e.itemName,n=e.price,o=e.description,c=e._id,s=e.closeModal,l=(0,d.I0)(),u=(0,r.useState)(t),f=(0,a.Z)(u,2),x=f[0],h=f[1],v=(0,r.useState)(n),g=(0,a.Z)(v,2),_=g[0],j=g[1],y=(0,r.useState)(o),N=(0,a.Z)(y,2),C=N[0],b=N[1],Z=(0,i.x0)(),k=(0,i.x0)(),M=(0,i.x0)();console.log(t,n);var S=function(e){switch(e.currentTarget.name){case"newItemName":h(e.currentTarget.value);break;case"newPrice":j(e.currentTarget.value);break;case"newDescription":b(e.currentTarget.value)}};return(0,p.jsx)("form",{onClick:function(e){return e.stopPropagation()},className:I,onSubmit:function(e){e.preventDefault(),""===_&&j(n),l((0,m.LM)({_id:c,itemName:x,description:C,price:_})),h(""),b(""),j(""),s()},children:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:A,children:[(0,p.jsx)("label",{htmlFor:Z,children:"Name"}),(0,p.jsx)("input",{className:w,id:Z,type:"text",name:"newItemName",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may ",required:!0,defaultValue:t,onChange:S})]}),(0,p.jsxs)("div",{className:A,children:[(0,p.jsx)("label",{htmlFor:k,children:"Price"}),(0,p.jsx)("input",{className:w,id:k,type:"text",name:"newPrice",pattern:"[0-9]{1,10}",title:"Name may ",required:!0,defaultValue:n,onChange:S})]}),(0,p.jsxs)("div",{className:A,children:[(0,p.jsx)("label",{htmlFor:M,children:"Description"}),(0,p.jsx)("input",{className:w,id:M,type:"text",name:"newDescription",pattern:"[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may ",required:!0,defaultValue:o,onChange:S})]}),(0,p.jsx)("button",{className:F,type:"submit",children:"Change Name"})]})})}function S(e){var t=e._id,n=e.closeModal,a=(0,d.I0)();return(0,p.jsxs)("div",{onClick:function(e){return e.stopPropagation()},children:["Do you really wont to delete?",(0,p.jsx)("button",{onClick:function(){a((0,m.wz)(t)),n()},children:"yes"})]})}function z(e){var t=e.filteredItem,n=e.itemsCategory,o=(0,i.x0)(),c=t.itemName,s=t.description,l=t.price,u=t._id,d=(0,r.useState)(!1),m=(0,a.Z)(d,2),f=m[0],x=m[1],h=(0,r.useState)(!1),v=(0,a.Z)(h,2),g=v[0],_=v[1];function j(){x(!1),_(!1),document.body.style.overflow=""}return(0,p.jsxs)(p.Fragment,{children:[t&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("button",{onClick:function(){return _(!0)},children:(0,p.jsxs)("li",{className:Z,children:[(0,p.jsx)("b",{children:"Name:"}),"  ",c," ",(0,p.jsx)("br",{}),(0,p.jsx)("b",{children:"Price:"})," ",l," ",(0,p.jsx)("br",{})]},o)}),(0,p.jsx)("span",{className:k,onClick:function(){return x(!0)},children:"Delete"})]}),f&&(0,p.jsx)(b.u,{onClick:function(){return j()},active:f,setActive:x,children:(0,p.jsx)(S,{closeModal:j,_id:u})}),g&&(0,p.jsx)(b.u,{onClick:function(){return j()},active:g,setActive:_,children:(0,p.jsx)(M,{itemName:c,price:l,description:s,_id:u,itemsCategory:n,closeModal:j,setModalDetailActive:_})})]})}var L,P,T,D,B,q,$=n(7689),O=function(e){var t=e.itemsCategory,n=e.items,a=(0,$.TH)().pathname.split("/")[2],i=(0,d.I0)();console.log(t);var o=(0,d.v9)(C);return(0,r.useEffect)((function(){i((0,y.Gr)()),void 0===a||i((0,m.$0)({category:a}))}),[i,a,n]),(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("ul",{children:function(){if(!o)return t;var e=o.toLocaleLowerCase();return t.filter((function(t){return t.itemName.toLocaleLowerCase().includes(e)}))}().map((function(e){return(0,p.jsx)(z,{itemsCategory:t,filteredItem:e},e._id)}))})})},V="Filter_contactFilterInput__A7VY6",Y="Filter_contactFilterLabel__EgZcb",E="Filter_contactFilter__CK3n0",U=n(5653),G=function(){var e=(0,d.v9)(C),t=(0,d.I0)(),n=(0,i.x0)();return(0,p.jsxs)("div",{className:E,children:[(0,p.jsx)("label",{className:Y,htmlFor:n,children:"Find items by name"}),(0,p.jsx)("input",{className:V,type:"text",name:"filter",value:e,onChange:function(e){var n=e.target.value;t((0,U.T)(n))},title:"Search",required:!0})]})},J="MenuItems_phoneBook__F5LYd",H="MenuItems_contactForm__7640z",R="MenuItems_contacts__9spuF",K="MenuItems_contactsLoading__XYypV",Q=n(8770),X=n(168),W=n(6444),ee=n(1087),te=(W.ZP.div(L||(L=(0,X.Z)(["\n  position: relative;\n\n"]))),W.ZP.li(P||(P=(0,X.Z)(["\n  list-style: none;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  flex-wrap: wrap;\n  gap: 12px;\n\n"])))),ne=(W.ZP.li(T||(T=(0,X.Z)(["\n  display: flex;\n"]))),(0,W.ZP)(ee.OL)(D||(D=(0,X.Z)(["\n\n  line-height: 1.35;\n  letter-spacing: 0.04em;\n  \n  padding: 8px 28px;\n  transition: color 250ms linear, background-color 250ms linear;\n  &:hover,\n  &:focus {\n   \n    cursor: pointer;\n  }\n  &.active {\n   \n  }\n\n"])))),ae=(W.ZP.div(B||(B=(0,X.Z)(["\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  flex-wrap: wrap-reverse;\n  gap: 12px;\n \n"]))),W.ZP.div(q||(q=(0,X.Z)(["\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  gap: 12px;\n"]))),"ModalChangeSectionName_form__SoU6b"),re="ModalChangeSectionName_formInput__zg-bf",ie="ModalChangeSectionName_formInputName__NYHJd",oe="ModalChangeSectionName_formBtn__i8Tos";function ce(e){var t=e.category,n=e._id,o=e.closeModal,c=(0,d.v9)(j.OY),s=(0,d.I0)(),l=(0,r.useState)(t),u=(0,a.Z)(l,2),m=u[0],x=u[1],h=(0,i.x0)();return(0,p.jsx)("form",{onClick:function(e){return e.stopPropagation()},className:ae,onSubmit:function(e){e.preventDefault(),c.find((function(e){return e.category.toLocaleLowerCase()===m.toLocaleLowerCase()}))?f.Notify.failure("".concat(m," is already in item")):(s((0,y.$n)({_id:n,category:m})),x(""),o())},children:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:re,children:[(0,p.jsx)("label",{htmlFor:h,children:"Name"}),(0,p.jsx)("input",{className:ie,id:h,type:"text",name:"newSectionName",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may ",required:!0,defaultValue:t,onChange:function(e){if("newSectionName"===e.currentTarget.name)x(e.currentTarget.value)}})]}),(0,p.jsx)("button",{className:oe,type:"submit",children:"Change Section"})]})})}var se=function(e){var t=e.section,n=(0,r.useState)(!1),o=(0,a.Z)(n,2),c=o[0],s=o[1],l=(0,d.I0)();function u(){s(!1),document.body.style.overflow="",l((0,y.Gr)())}var m=t._id,f=t.category,x=[{btn:f,link:f}];return(0,p.jsxs)(te,{children:[x.map((function(e){return(0,p.jsx)(ne,{to:"/items/"+e.link,name:e.link,children:e.btn},(0,i.x0)())})),(0,p.jsx)("button",{onClick:function(){return s(!0)},children:"change"},(0,i.x0)()),c&&(0,p.jsx)(b.u,{onClick:function(){return u()},active:c,setActive:s,children:(0,p.jsx)(ce,{closeModal:u,_id:m,category:f})})]},(0,i.x0)())};function le(){var e=(0,$.TH)().pathname.split("/")[2],t=(0,r.useState)(!1),n=(0,a.Z)(t,2),i=n[0],o=n[1],c=(0,r.useState)(!1),s=(0,a.Z)(c,2),l=s[0],u=s[1];function f(){o(!1),u(!1),document.body.style.overflow=""}var h=(0,d.I0)(),v=(0,d.v9)(Q.kk),g=(0,d.v9)(Q.Z9),_=(0,d.v9)(j.OY);console.log("sections",_);var C=(0,d.v9)(Q.y0),Z=C.loading,k=C.error;return(0,r.useEffect)((function(){h((0,m.Ez)()),h((0,y.Gr)())}),[h]),(0,p.jsxs)("div",{className:J,children:[(0,p.jsxs)("div",{className:H,children:[(0,p.jsx)("ul",{children:_.map((function(e){return(0,p.jsx)(se,{section:e})}))}),(0,p.jsx)("button",{type:"button",onClick:function(){return u(!0)},children:"Add Section"}),l&&(0,p.jsx)(b.u,{onClick:function(){return f()},active:l,setActive:u,children:(0,p.jsx)(N,{onClick:function(e){return e.stopPropagation()},setModalSectionActive:u})}),i&&(0,p.jsx)(b.u,{onClick:function(){return f()},active:i,setActive:o,children:(0,p.jsx)(x,{onClick:function(e){return e.stopPropagation()},setModalActive:o,category:e,itemsCategory:g})})]}),(0,p.jsxs)("div",{className:R,children:[(0,p.jsx)("h2",{children:"Menu"}),(0,p.jsx)(G,{}),!Z&&v.length>0&&(0,p.jsx)(O,{items:v,itemsCategory:g}),Z&&(0,p.jsx)("p",{className:K,children:"...loading"}),k&&(0,p.jsx)("p",{children:"No items yet"})]}),(0,p.jsx)("button",{type:"button",onClick:function(){return o(!0)},children:"Add Item"})]})}},2658:function(e,t,n){n.d(t,{u:function(){return c}});n(2791);var a,r=n(168),i=n(6444).ZP.div(a||(a=(0,r.Z)(["\n  position: fixed;\n  z-index: 1000;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(17, 17, 17, 0.6);\n  backdrop-filter: blur(10px);\n  overflow-y: scroll;\n  overflow-x: hidden;\n  transition: 0.5s;\n  align-items: center;\njustify-content: center;\n  display: flex;\n  opacity: 0;\npointer-events: none;\ntransition: 1s;\n&.active {\n    opacity: 1;\n    pointer-events: all;\n  };\n"]))),o=n(184),c=function(e){var t=e.active,n=(e.className,e.onClick),a=e.setActive,r=e.children;return window.addEventListener("keydown",(function(e){"Escape"===e.code&&(a(!1),document.body.style.overflow="")})),(0,o.jsx)(i,{className:t?"modal active":"modal",onClick:n,children:r})}},8770:function(e,t,n){n.d(t,{C3:function(){return r},Z9:function(){return i},kk:function(){return a},y0:function(){return o}});var a=function(e){return e.items.items},r=function(e){return e.items.itemsLive},i=function(e){return e.items.itemsByCategory},o=function(e){var t=e.items;return{loading:t.loading,error:t.error}}},6002:function(e,t,n){n.d(t,{OY:function(){return a}});var a=function(e){return e.sections.sections}},168:function(e,t,n){function a(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,{Z:function(){return a}})},5984:function(e,t,n){n.d(t,{x0:function(){return a}});var a=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,t="",n=crypto.getRandomValues(new Uint8Array(e));e--;){var a=63&n[e];t+=a<36?a.toString(36):a<62?(a-26).toString(36).toUpperCase():a<63?"_":"-"}return t}}}]);
//# sourceMappingURL=978.3e3bcc0e.chunk.js.map