"use strict";(self.webpackChunkproject1=self.webpackChunkproject1||[]).push([[501],{8501:function(e,n,t){t.r(n),t.d(n,{default:function(){return U}});var i,r,o,a,c,s=t(9434),l=function(e){return e.filter},u=t(9439),d=t(2791),m=t(2658),f=t(168),x=t(6444),p=t(6856),v=x.ZP.li(i||(i=(0,f.Z)(["\n    display: flex;\n"]))),h=x.ZP.button(r||(r=(0,f.Z)(["\n    width: 200px;\n"]))),j=(x.ZP.div(o||(o=(0,f.Z)(["\n    /* flex-direction: column;\n    font-size: 25px; */\n"]))),x.ZP.span(a||(a=(0,f.Z)(["\n\nmargin: auto;\ncursor: pointer;\n\n"])))),Z=(0,x.ZP)(p.FH3)(c||(c=(0,f.Z)(["\n    color: red;\n"]))),g=t(5984),y="ModalItemDetail_form__x-gZ-",b="ModalItemDetail_formInput__-IBL2",w="ModalItemDetail_formInputName__FASfh",C="ModalItemDetail_formBtn__dFB10",N=t(3965),k=t(184);function P(e){var n=e.itemName,t=e.price,i=e.description,r=e._id,o=e.closeModal,a=(0,s.I0)(),c=(0,d.useState)(n),l=(0,u.Z)(c,2),m=l[0],f=l[1],x=(0,d.useState)(t),p=(0,u.Z)(x,2),v=p[0],h=p[1],j=(0,d.useState)(i),Z=(0,u.Z)(j,2),P=Z[0],_=Z[1],I=(0,g.x0)(),A=(0,g.x0)(),F=(0,g.x0)();console.log(n,t);var M=function(e){switch(e.currentTarget.name){case"newItemName":f(e.currentTarget.value);break;case"newPrice":h(e.currentTarget.value);break;case"newDescription":_(e.currentTarget.value)}};return(0,k.jsx)("form",{onClick:function(e){return e.stopPropagation()},className:y,onSubmit:function(e){e.preventDefault(),""===v&&h(t),a((0,N.LM)({_id:r,itemName:m,description:P,price:v})),f(""),_(""),h(""),o()},children:(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("div",{className:b,children:[(0,k.jsx)("label",{htmlFor:I,children:"Name"}),(0,k.jsx)("input",{className:w,id:I,type:"text",name:"newItemName",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may ",required:!0,defaultValue:n,onChange:M})]}),(0,k.jsxs)("div",{className:b,children:[(0,k.jsx)("label",{htmlFor:A,children:"Price"}),(0,k.jsx)("input",{className:w,id:A,type:"text",name:"newPrice",pattern:"[0-9]{1,10}",title:"Name may ",required:!0,defaultValue:t,onChange:M})]}),(0,k.jsxs)("div",{className:b,children:[(0,k.jsx)("label",{htmlFor:F,children:"Description"}),(0,k.jsx)("input",{className:w,id:F,type:"text",name:"newDescription",pattern:"[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may ",required:!0,defaultValue:i,onChange:M})]}),(0,k.jsx)("button",{className:C,type:"submit",children:"Change Name"})]})})}function _(e){var n=e._id,t=e.closeModal,i=(0,s.I0)();return(0,k.jsxs)("div",{onClick:function(e){return e.stopPropagation()},children:["Do you really wont to delete?",(0,k.jsx)("button",{onClick:function(){i((0,N.wz)(n)),t()},children:"yes"})]})}function I(e){var n=e.filteredItem,t=e.itemsCategory,i=(0,g.x0)(),r=n.itemName,o=n.description,a=n.price,c=n._id,s=(0,d.useState)(!1),l=(0,u.Z)(s,2),f=l[0],x=l[1],p=(0,d.useState)(!1),y=(0,u.Z)(p,2),b=y[0],w=y[1];function C(){x(!1),w(!1),document.body.style.overflow=""}return(0,k.jsxs)(k.Fragment,{children:[n&&(0,k.jsxs)(v,{children:[(0,k.jsxs)(h,{onClick:function(){return w(!0)},children:[(0,k.jsx)("b",{children:"Name:"}),"  ",r," ",(0,k.jsx)("br",{}),(0,k.jsx)("b",{children:"Price:"})," ",a," ",(0,k.jsx)("br",{})]},i),(0,k.jsx)(j,{onClick:function(){return x(!0)},children:(0,k.jsx)(Z,{})})]},(0,g.x0)()),f&&(0,k.jsx)(m.u,{onClick:function(){return C()},active:f,setActive:x,children:(0,k.jsx)(_,{closeModal:C,_id:c})}),b&&(0,k.jsx)(m.u,{onClick:function(){return C()},active:b,setActive:w,children:(0,k.jsx)(P,{itemName:r,price:a,description:o,_id:c,itemsCategory:t,closeModal:C,setModalDetailActive:w})})]})}var A,F,M,z,D,L,S,T=t(7689),q=t(8818),B=function(e){var n=e.itemsCategory,t=e.items,i=(0,T.TH)().pathname.split("/")[2],r=(0,s.I0)();console.log(n);var o=(0,s.v9)(l);return(0,d.useEffect)((function(){r((0,q.Gr)()),void 0===i||r((0,N.$0)({category:i}))}),[r,i,t]),(0,k.jsx)(k.Fragment,{children:(0,k.jsx)("ul",{children:function(){if(!o)return n;var e=o.toLocaleLowerCase();return n.filter((function(n){return n.itemName.toLocaleLowerCase().includes(e)}))}().map((function(e){return(0,k.jsx)(I,{itemsCategory:n,filteredItem:e},e._id)}))})})},E=x.ZP.div(A||(A=(0,f.Z)(["\n    display: flex;\n    flex-direction: column;\n"]))),V=x.ZP.label(F||(F=(0,f.Z)(["\n    font-size: 15px;\n"]))),$=x.ZP.input(M||(M=(0,f.Z)(["\n    width: 200px;\n"]))),H=t(5653),O=function(){var e=(0,s.v9)(l),n=(0,s.I0)(),t=(0,g.x0)();return(0,k.jsxs)(E,{children:[(0,k.jsx)(V,{htmlFor:t,children:"Find items by name"}),(0,k.jsx)($,{type:"text",name:"filter",value:e,onChange:function(e){var t=e.target.value;n((0,H.T)(t))},title:"Search",required:!0})]})},Y=x.ZP.div(z||(z=(0,f.Z)(["\n    margin-left: 5px;\n    width: 250px;\n"]))),G=x.ZP.p(D||(D=(0,f.Z)(["\n    color: green;\n"]))),J=x.ZP.div(L||(L=(0,f.Z)(["\n    display: flex;\n    flex-direction: row-reverse;\n"]))),K=x.ZP.button(S||(S=(0,f.Z)(["\n\n"]))),Q=t(8770),R=t(6002);function U(e){var n=e.setModalActive,t=(0,s.v9)(Q.kk),i=(0,s.v9)(Q.Z9),r=(0,s.v9)(R.OY);console.log("sections",r);var o=(0,s.v9)(Q.y0),a=o.loading,c=o.error;return(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)(Y,{children:[(0,k.jsx)("h2",{children:"Menu"}),(0,k.jsx)(O,{}),(0,k.jsx)(J,{children:(0,k.jsx)(K,{type:"button",onClick:function(){return n(!0)},children:"Add Item"})}),!a&&t.length>0&&(0,k.jsx)(B,{items:t,itemsCategory:i}),a&&(0,k.jsx)(G,{children:"...loading"}),c&&(0,k.jsx)("p",{children:"No items yet"})]})})}},2658:function(e,n,t){t.d(n,{u:function(){return c}});t(2791);var i,r=t(168),o=t(6444).ZP.div(i||(i=(0,r.Z)(["\n  position: fixed;\n  z-index: 1000;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(17, 17, 17, 0.6);\n  backdrop-filter: blur(10px);\n  overflow-y: scroll;\n  overflow-x: hidden;\n  transition: 0.5s;\n  align-items: center;\njustify-content: center;\n  display: flex;\n  opacity: 0;\npointer-events: none;\ntransition: 1s;\n&.active {\n    opacity: 1;\n    pointer-events: all;\n  };\n"]))),a=t(184),c=function(e){var n=e.active,t=(e.className,e.onClick),i=e.setActive,r=e.children;return window.addEventListener("keydown",(function(e){"Escape"===e.code&&(i(!1),document.body.style.overflow="")})),(0,a.jsx)(o,{className:n?"modal active":"modal",onClick:t,children:r})}},8770:function(e,n,t){t.d(n,{C3:function(){return r},Z9:function(){return a},fN:function(){return o},kk:function(){return i},y0:function(){return c}});var i=function(e){return e.items.items},r=function(e){return e.items.itemsLive},o=function(e){return e.items.isLive},a=function(e){return e.items.itemsByCategory},c=function(e){var n=e.items;return{loading:n.loading,error:n.error}}},6002:function(e,n,t){t.d(n,{OY:function(){return i}});var i=function(e){return e.sections.sections}}}]);
//# sourceMappingURL=501.eea4344a.chunk.js.map