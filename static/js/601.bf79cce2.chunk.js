"use strict";(self.webpackChunkproject1=self.webpackChunkproject1||[]).push([[601],{5601:function(e,t,n){n.r(t),n.d(t,{default:function(){return M}});var i=n(9434),r=function(e){return e.filter},a=n(9439),c=n(2791),o=n(2658),s="ItemInList_contactList__ZeV7i",l="ItemInList_delContacts__9o6iY",u=n(5984),d="ModalItemDetail_form__x-gZ-",m="ModalItemDetail_formInput__-IBL2",f="ModalItemDetail_formInputName__FASfh",v="ModalItemDetail_formBtn__dFB10",x=n(3965),h=n(184);function p(e){var t=e.itemName,n=e.price,r=e.description,o=e._id,s=e.closeModal,l=(0,i.I0)(),p=(0,c.useState)(t),j=(0,a.Z)(p,2),_=j[0],g=j[1],y=(0,c.useState)(n),N=(0,a.Z)(y,2),b=N[0],C=N[1],k=(0,c.useState)(r),I=(0,a.Z)(k,2),w=I[0],F=I[1],Z=(0,u.x0)(),A=(0,u.x0)(),L=(0,u.x0)();console.log(t,n);var M=function(e){switch(e.currentTarget.name){case"newItemName":g(e.currentTarget.value);break;case"newPrice":C(e.currentTarget.value);break;case"newDescription":F(e.currentTarget.value)}};return(0,h.jsx)("form",{onClick:function(e){return e.stopPropagation()},className:d,onSubmit:function(e){e.preventDefault(),""===b&&C(n),l((0,x.LM)({_id:o,itemName:_,description:w,price:b})),g(""),F(""),C(""),s()},children:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:m,children:[(0,h.jsx)("label",{htmlFor:Z,children:"Name"}),(0,h.jsx)("input",{className:f,id:Z,type:"text",name:"newItemName",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may ",required:!0,defaultValue:t,onChange:M})]}),(0,h.jsxs)("div",{className:m,children:[(0,h.jsx)("label",{htmlFor:A,children:"Price"}),(0,h.jsx)("input",{className:f,id:A,type:"text",name:"newPrice",pattern:"[0-9]{1,10}",title:"Name may ",required:!0,defaultValue:n,onChange:M})]}),(0,h.jsxs)("div",{className:m,children:[(0,h.jsx)("label",{htmlFor:L,children:"Description"}),(0,h.jsx)("input",{className:f,id:L,type:"text",name:"newDescription",pattern:"[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may ",required:!0,defaultValue:r,onChange:M})]}),(0,h.jsx)("button",{className:v,type:"submit",children:"Change Name"})]})})}function j(e){var t=e._id,n=e.closeModal,r=(0,i.I0)();return(0,h.jsxs)("div",{onClick:function(e){return e.stopPropagation()},children:["Do you really wont to delete?",(0,h.jsx)("button",{onClick:function(){r((0,x.wz)(t)),n()},children:"yes"})]})}function _(e){var t=e.filteredItem,n=e.itemsCategory,i=(0,u.x0)(),r=t.itemName,d=t.description,m=t.price,f=t._id,v=(0,c.useState)(!1),x=(0,a.Z)(v,2),_=x[0],g=x[1],y=(0,c.useState)(!1),N=(0,a.Z)(y,2),b=N[0],C=N[1];function k(){g(!1),C(!1),document.body.style.overflow=""}return(0,h.jsxs)(h.Fragment,{children:[t&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("button",{onClick:function(){return C(!0)},children:(0,h.jsxs)("li",{className:s,children:[(0,h.jsx)("b",{children:"Name:"}),"  ",r," ",(0,h.jsx)("br",{}),(0,h.jsx)("b",{children:"Price:"})," ",m," ",(0,h.jsx)("br",{})]},i)}),(0,h.jsx)("span",{className:l,onClick:function(){return g(!0)},children:"Delete"})]}),_&&(0,h.jsx)(o.u,{onClick:function(){return k()},active:_,setActive:g,children:(0,h.jsx)(j,{closeModal:k,_id:f})}),b&&(0,h.jsx)(o.u,{onClick:function(){return k()},active:b,setActive:C,children:(0,h.jsx)(p,{itemName:r,price:m,description:d,_id:f,itemsCategory:n,closeModal:k,setModalDetailActive:C})})]})}var g=n(7689),y=n(8818),N=function(e){var t=e.itemsCategory,n=e.items,a=(0,g.TH)().pathname.split("/")[2],o=(0,i.I0)();console.log(t);var s=(0,i.v9)(r);return(0,c.useEffect)((function(){o((0,y.Gr)()),void 0===a||o((0,x.$0)({category:a}))}),[o,a,n]),(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("ul",{children:function(){if(!s)return t;var e=s.toLocaleLowerCase();return t.filter((function(t){return t.itemName.toLocaleLowerCase().includes(e)}))}().map((function(e){return(0,h.jsx)(_,{itemsCategory:t,filteredItem:e},e._id)}))})})},b="Filter_contactFilterInput__A7VY6",C="Filter_contactFilterLabel__EgZcb",k="Filter_contactFilter__CK3n0",I=n(5653),w=function(){var e=(0,i.v9)(r),t=(0,i.I0)(),n=(0,u.x0)();return(0,h.jsxs)("div",{className:k,children:[(0,h.jsx)("label",{className:C,htmlFor:n,children:"Find items by name"}),(0,h.jsx)("input",{className:b,type:"text",name:"filter",value:e,onChange:function(e){var n=e.target.value;t((0,I.T)(n))},title:"Search",required:!0})]})},F="MenuItems_contacts__t9EFF",Z="MenuItems_contactsLoading__PzTnD",A=n(8770),L=n(6002);function M(e){var t=e.setModalActive,n=(0,i.v9)(A.kk),r=(0,i.v9)(A.Z9),a=(0,i.v9)(L.OY);console.log("sections",a);var c=(0,i.v9)(A.y0),o=c.loading,s=c.error;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:F,children:[(0,h.jsx)("h2",{children:"Menu"}),(0,h.jsx)(w,{}),!o&&n.length>0&&(0,h.jsx)(N,{items:n,itemsCategory:r}),o&&(0,h.jsx)("p",{className:Z,children:"...loading"}),s&&(0,h.jsx)("p",{children:"No items yet"})]}),(0,h.jsx)("button",{type:"button",onClick:function(){return t(!0)},children:"Add Item"})]})}},2658:function(e,t,n){n.d(t,{u:function(){return o}});n(2791);var i,r=n(168),a=n(6444).ZP.div(i||(i=(0,r.Z)(["\n  position: fixed;\n  z-index: 1000;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(17, 17, 17, 0.6);\n  backdrop-filter: blur(10px);\n  overflow-y: scroll;\n  overflow-x: hidden;\n  transition: 0.5s;\n  align-items: center;\njustify-content: center;\n  display: flex;\n  opacity: 0;\npointer-events: none;\ntransition: 1s;\n&.active {\n    opacity: 1;\n    pointer-events: all;\n  };\n"]))),c=n(184),o=function(e){var t=e.active,n=(e.className,e.onClick),i=e.setActive,r=e.children;return window.addEventListener("keydown",(function(e){"Escape"===e.code&&(i(!1),document.body.style.overflow="")})),(0,c.jsx)(a,{className:t?"modal active":"modal",onClick:n,children:r})}},8770:function(e,t,n){n.d(t,{C3:function(){return r},Z9:function(){return c},fN:function(){return a},kk:function(){return i},y0:function(){return o}});var i=function(e){return e.items.items},r=function(e){return e.items.itemsLive},a=function(e){return e.items.isLive},c=function(e){return e.items.itemsByCategory},o=function(e){var t=e.items;return{loading:t.loading,error:t.error}}},6002:function(e,t,n){n.d(t,{OY:function(){return i}});var i=function(e){return e.sections.sections}}}]);
//# sourceMappingURL=601.bf79cce2.chunk.js.map