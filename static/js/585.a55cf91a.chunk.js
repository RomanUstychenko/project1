"use strict";(self.webpackChunkproject1=self.webpackChunkproject1||[]).push([[585],{3585:function(e,n,t){t.r(n),t.d(n,{default:function(){return Q}});var r=t(9439),i=t(2791),a=t(5984),o="ItemForm_form__MqImS",s="ItemForm_formInput__8YeUO",c="ItemForm_formInputName__0o+kP",l="ItemForm_formInputTel__NDaoU",d="ItemForm_formBtn__MJzn3",u=t(9434),m=function(e){return e.items.items},p=function(e){return e.items.itemsByCategory},f=function(e){var n=e.items;return{loading:n.loading,error:n.error}},v=function(e){var n=e.filter,t=e.items;if(!n)return t.items},h=t(3965),x=t(5264),g=t(184);function j(e){e.onClick;var n=e.setModalActive,t=(0,u.v9)(v);console.log(t);var m=(0,u.I0)(),p=(0,i.useState)(""),f=(0,r.Z)(p,2),j=f[0],y=f[1],_=(0,i.useState)(""),b=(0,r.Z)(_,2),N=b[0],w=b[1],k=(0,i.useState)(""),C=(0,r.Z)(k,2),F=C[0],I=C[1],A=(0,a.x0)(),Z=(0,a.x0)(),z=(0,a.x0)(),P=function(e){switch(e.currentTarget.name){case"itemName":y(e.currentTarget.value);break;case"description":I(e.currentTarget.value);break;case"price":w(e.currentTarget.value)}};return(0,g.jsx)("form",{onClick:function(e){return e.stopPropagation()},className:o,onSubmit:function(e){e.preventDefault(),t.find((function(e){return e.itemName.toLocaleLowerCase()===j.toLocaleLowerCase()}))?x.Notify.failure("".concat(j," is already in item")):""===F?(m((0,h.$)({itemName:j,price:N})),y(""),w(""),n(!1)):(m((0,h.$)({itemName:j,description:F,price:N})),y(""),I(""),w(""),n(!1))},children:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:s,children:[(0,g.jsx)("label",{htmlFor:A,children:"Name"}),(0,g.jsx)("input",{className:c,id:A,type:"text",name:"itemName",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,value:j,onChange:P})]}),(0,g.jsxs)("div",{className:s,children:[(0,g.jsx)("label",{htmlFor:z,children:"Description"}),(0,g.jsx)("input",{className:c,id:z,type:"text",name:"description",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",value:F,onChange:P})]}),(0,g.jsxs)("div",{className:s,children:[(0,g.jsx)("label",{htmlFor:Z,children:"Price"}),(0,g.jsx)("input",{className:l,id:Z,type:"number",name:"price",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",value:N,onChange:P,required:!0})]}),(0,g.jsx)("button",{className:d,type:"submit",children:"Add"})]})})}var y=function(e){return e.filter};function _(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}var b,N=t(6444),w=N.ZP.div(b||(b=_(["\n  position: fixed;\n  z-index: 1000;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(17, 17, 17, 0.6);\n  backdrop-filter: blur(10px);\n  overflow-y: scroll;\n  overflow-x: hidden;\n  transition: 0.5s;\n  align-items: center;\njustify-content: center;\n  display: flex;\n  opacity: 0;\npointer-events: none;\ntransition: 1s;\n&.active {\n    opacity: 1;\n    pointer-events: all;\n  };\n"]))),k=function(e){var n=e.active,t=(e.className,e.onClick),r=e.setActive,i=e.children;return window.addEventListener("keydown",(function(e){"Escape"===e.code&&(r(!1),document.body.style.overflow="")})),(0,g.jsx)(w,{className:n?"modal active":"modal",onClick:t,children:i})},C=t(7689);function F(e){var n=e.filteredItem,t=(0,C.TH)(),a=(0,u.v9)(p);console.log(a);var o=n.section,s=n._id,c=t.pathname.split("/")[2],l=(0,u.I0)();c===o&&l((0,h.$0)({category:c}));var d=(0,i.useState)(!1),m=(0,r.Z)(d,2),f=m[0],v=m[1];return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{children:o}),f&&(0,g.jsx)(k,{onClick:function(){return v(!1),void(document.body.style.overflow="")},active:f,setActive:v,children:(0,g.jsxs)("div",{onClick:function(e){return e.stopPropagation()},children:["Do you really wont to delete?",(0,g.jsx)("button",{onClick:function(){l((0,h.wz)(s))},children:"yes"})]})})]})}var I,A,Z,z,P,L,M=function(){var e=(0,u.v9)(m),n=(0,u.v9)(y);return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("ul",{children:function(){if(!n)return e;var t=n.toLocaleLowerCase();return e.filter((function(e){return e.itemName.toLocaleLowerCase().includes(t)}))}().map((function(e){return(0,g.jsx)(F,{filteredItem:e},e._id)}))})})},S="Filter_contactFilterInput__A7VY6",T="Filter_contactFilterLabel__EgZcb",B="Filter_contactFilter__CK3n0",E=t(5653),O=function(){var e=(0,u.v9)(y),n=(0,u.I0)(),t=(0,a.x0)();return(0,g.jsxs)("div",{className:B,children:[(0,g.jsx)("label",{className:T,htmlFor:t,children:"Find items by name"}),(0,g.jsx)("input",{className:S,type:"text",name:"filter",value:e,onChange:function(e){var t=e.target.value;n((0,E.T)(t))},title:"Search",required:!0})]})},$="MenuItems_phoneBook__F5LYd",q="MenuItems_contactForm__7640z",D="MenuItems_contacts__9spuF",U="MenuItems_contactsLoading__XYypV",Y=t(1087),J=N.ZP.div(I||(I=_(["\n  position: relative;\n\n"]))),V=N.ZP.ul(A||(A=_(["\n  list-style: none;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  flex-wrap: wrap;\n  gap: 12px;\n\n"]))),H=N.ZP.li(Z||(Z=_(["\n  display: flex;\n"]))),K=(0,N.ZP)(Y.OL)(z||(z=_(["\n\n  line-height: 1.35;\n  letter-spacing: 0.04em;\n  \n  padding: 8px 28px;\n  transition: color 250ms linear, background-color 250ms linear;\n  &:hover,\n  &:focus {\n   \n    cursor: pointer;\n  }\n  &.active {\n   \n  }\n\n"]))),R=N.ZP.div(P||(P=_(["\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  flex-wrap: wrap-reverse;\n  gap: 12px;\n \n"]))),X=(N.ZP.div(L||(L=_(["\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  gap: 12px;\n"]))),[{btn:"first",link:"first"},{btn:"second",link:"second"},{btn:"third",link:"third"}]);var G=function(){return(0,g.jsx)(J,{children:(0,g.jsx)(V,{children:(0,g.jsx)(R,{children:X.map((function(e){return(0,g.jsx)(H,{children:(0,g.jsx)(K,{to:"/items/"+e.link,name:e.link,children:e.btn})},(0,a.x0)())}))})})})};function Q(){var e=(0,C.TH)().pathname.split("/")[1];console.log("category",e);var n=(0,i.useState)(!1),t=(0,r.Z)(n,2),a=t[0],o=t[1];var s=(0,u.I0)(),c=(0,u.v9)(m),l=(0,u.v9)(f),d=l.loading,p=l.error;return(0,i.useEffect)((function(){s((0,h.Ez)())}),[s]),(0,g.jsxs)("div",{className:$,children:[(0,g.jsxs)("div",{className:q,children:[(0,g.jsx)(G,{}),a&&(0,g.jsx)(k,{onClick:function(){return o(!1),void(document.body.style.overflow="")},active:a,setActive:o,children:(0,g.jsx)(j,{onClick:function(e){return e.stopPropagation()},setModalActive:o})})]}),(0,g.jsxs)("div",{className:D,children:[(0,g.jsx)("h2",{children:"Menu"}),(0,g.jsx)(O,{}),!d&&c.length>0&&(0,g.jsx)(M,{items:c}),d&&(0,g.jsx)("p",{className:U,children:"...loading"}),p&&(0,g.jsx)("p",{children:"oops, something went wrong"})]}),(0,g.jsx)("button",{type:"button",onClick:function(){return o(!0)},children:"Add Item"})]})}},5984:function(e,n,t){t.d(n,{x0:function(){return r}});var r=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,n="",t=crypto.getRandomValues(new Uint8Array(e));e--;){var r=63&t[e];n+=r<36?r.toString(36):r<62?(r-26).toString(36).toUpperCase():r<63?"_":"-"}return n}}}]);
//# sourceMappingURL=585.a55cf91a.chunk.js.map