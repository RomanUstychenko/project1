"use strict";(self.webpackChunkproject1=self.webpackChunkproject1||[]).push([[947,912],{7947:function(e,n,t){t.r(n),t.d(n,{default:function(){return X}});var r=t(9439),i=t(2791),a=t(5984),o="ModalItemForm_form__-+3k4",c="ModalItemForm_formInput__adINV",s="ModalItemForm_formInputName__Q6Z+x",l="ModalItemForm_formInputTel__URgjM",u="ModalItemForm_formBtn__f7UqB",d=t(9434),m=t(3965),f=t(5264),x=t(184);function p(e){var n=e.setModalActive,t=e.category,p=e.itemsCategory;console.log(p);var h=(0,d.I0)(),v=(0,i.useState)(""),g=(0,r.Z)(v,2),j=g[0],Z=g[1],y=(0,i.useState)(""),b=(0,r.Z)(y,2),N=b[0],C=b[1],_=(0,i.useState)(""),w=(0,r.Z)(_,2),k=w[0],A=w[1],P=(0,i.useState)(t),S=(0,r.Z)(P,2),F=S[0],M=S[1],z=(0,a.x0)(),I=(0,a.x0)(),L=(0,a.x0)(),T=function(e){switch(e.currentTarget.name){case"itemName":Z(e.currentTarget.value);break;case"description":A(e.currentTarget.value);break;case"price":C(e.currentTarget.value)}};return(0,x.jsx)("form",{onClick:function(e){return e.stopPropagation()},className:o,onSubmit:function(e){e.preventDefault(),p.find((function(e){return e.itemName.toLocaleLowerCase()===j.toLocaleLowerCase()}))?f.Notify.failure("".concat(j," is already in item")):""===k?(M(t),h((0,m.$)({itemName:j,price:N,section:F})),Z(""),C(""),M(""),n(!1)):(M(t),h((0,m.$)({itemName:j,description:k,price:N,section:F})),Z(""),A(""),C(""),M(""),n(!1))},children:(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:c,children:[(0,x.jsx)("label",{htmlFor:z,children:"Name"}),(0,x.jsx)("input",{className:s,id:z,type:"text",name:"itemName",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,value:j,onChange:T})]}),(0,x.jsxs)("div",{className:c,children:[(0,x.jsx)("label",{htmlFor:L,children:"Description"}),(0,x.jsx)("input",{className:s,id:L,type:"text",name:"description",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",value:k,onChange:T})]}),(0,x.jsxs)("div",{className:c,children:[(0,x.jsx)("label",{htmlFor:I,children:"Price"}),(0,x.jsx)("input",{className:l,id:I,type:"number",name:"price",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",value:N,onChange:T,required:!0})]}),(0,x.jsx)("button",{className:u,type:"submit",children:"Add"})]})})}var h="ModalSectionForm_form__tsdCk",v="ModalSectionForm_formInput__0syn9",g="ModalSectionForm_formInputName__uNNee",j="ModalSectionForm_formBtn__-DNOk",Z=t(6002),y=t(8818);function b(e){e.onClick;var n=e.setModalSectionActive,t=(0,d.v9)(Z.OY),o=(0,d.I0)(),c=(0,i.useState)(""),s=(0,r.Z)(c,2),l=s[0],u=s[1],m=(0,a.x0)();return(0,x.jsx)("form",{onClick:function(e){return e.stopPropagation()},className:h,onSubmit:function(e){e.preventDefault(),t.find((function(e){return e.category.toLocaleLowerCase()===l.toLocaleLowerCase()}))?f.Notify.failure("".concat(l," is already in item")):(o((0,y.qG)({category:l})),u(""),n(!1))},children:(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:v,children:[(0,x.jsx)("label",{htmlFor:m,children:"Name"}),(0,x.jsx)("input",{className:g,id:m,type:"text",name:"category",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,value:l,onChange:function(e){if("category"===e.currentTarget.name)u(e.currentTarget.value)}})]}),(0,x.jsx)("button",{className:j,type:"submit",children:"Add"})]})})}var N,C,_,w,k,A,P,S,F,M=t(168),z=t(6444),I=z.ZP.div(N||(N=(0,M.Z)(["\n/* color: white; */\n    /* color: rgb(38, 146, 179); */\n    display: flex;\n    margin-top: 25px;\n    /* margin-left: 15px; */\n"]))),L=z.ZP.div(C||(C=(0,M.Z)(["\n    border: 4px;\n"]))),T=t(8770),q=t(2658),D=t(1087),$=t(6856),B=(z.ZP.div(_||(_=(0,M.Z)(["\n  position: relative;\n\n"]))),z.ZP.li(w||(w=(0,M.Z)(["\n\n  list-style: none;\n  /* display: flex; */\n  /* justify-content: flex-start; */\n  /* align-items: center; */\n  /* flex-wrap: wrap; */\n  /* gap: 12px; */\n\n"])))),O=(z.ZP.li(k||(k=(0,M.Z)(["\n  display: flex;\n"]))),(0,z.ZP)(D.OL)(A||(A=(0,M.Z)(["\ncolor: white;\n  line-height: 1.35;\n  letter-spacing: 0.04em;\n  \n  /* padding: 8px 28px; */\n  transition: color 250ms linear, background-color 250ms linear;\n  &:hover,\n  &:focus {\n   \n    cursor: pointer;\n  }\n  &.active {\n   \n  }\n\n"])))),V=(z.ZP.div(P||(P=(0,M.Z)(["\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  flex-wrap: wrap-reverse;\n  gap: 12px;\n \n"]))),z.ZP.div(S||(S=(0,M.Z)(["\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  gap: 12px;\n"]))),(0,z.ZP)((function(e){var n=e.className;return(0,x.jsx)($.IsZ,{className:n})}))(F||(F=(0,M.Z)(["\n  \n"])))),Y="ModalChangeSectionName_form__SoU6b",E="ModalChangeSectionName_formInput__zg-bf",G="ModalChangeSectionName_formInputName__NYHJd",H="ModalChangeSectionName_formBtn__i8Tos";function J(e){var n=e.category,t=e._id,o=e.closeModal,c=(0,d.v9)(Z.OY),s=(0,d.I0)(),l=(0,i.useState)(n),u=(0,r.Z)(l,2),m=u[0],p=u[1],h=(0,a.x0)();return(0,x.jsx)("form",{onClick:function(e){return e.stopPropagation()},className:Y,onSubmit:function(e){e.preventDefault(),c.find((function(e){return e.category.toLocaleLowerCase()===m.toLocaleLowerCase()}))?f.Notify.failure("".concat(m," is already in item")):(s((0,y.$n)({_id:t,category:m})),p(""),o())},children:(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:E,children:[(0,x.jsx)("label",{htmlFor:h,children:"Name"}),(0,x.jsx)("input",{className:G,id:h,type:"text",name:"newSectionName",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may ",required:!0,defaultValue:n,onChange:function(e){if("newSectionName"===e.currentTarget.name)p(e.currentTarget.value)}})]}),(0,x.jsx)("button",{className:H,type:"submit",children:"Change Section"})]})})}var U=function(e){var n=e.section,t=(0,i.useState)(!1),o=(0,r.Z)(t,2),c=o[0],s=o[1],l=(0,d.I0)();function u(){s(!1),document.body.style.overflow="",l((0,y.Gr)())}var m=n._id,f=n.category,p=[{btn:f,link:m}];return(0,x.jsxs)(B,{children:[p.map((function(e){return(0,x.jsx)(O,{to:"/items/"+e.link,name:e.link,children:e.btn},(0,a.x0)())})),(0,x.jsx)("button",{onClick:function(){return s(!0)},children:(0,x.jsx)(V,{})},(0,a.x0)()),c&&(0,x.jsx)(q.u,{onClick:function(){return u()},active:c,setActive:s,children:(0,x.jsx)(J,{closeModal:u,_id:m,category:f})})]},(0,a.x0)())},R=t(7689),Q=t(6188),K=t(4654);function W(){var e=(0,d.v9)(K.PR);console.log(e);var n=Boolean(e),t=n?[{id:(0,a.x0)(),to:"/live/".concat(e._id),text:"live"}]:"";return(0,x.jsx)("ul",{children:n?t.map((function(e){var n=e.id,t=e.to,r=e.text;return(0,x.jsx)("li",{children:(0,x.jsx)(D.OL,{target:"_blank",rel:"noreferrer noopener",to:t,end:!0,children:r})},n)})):(0,x.jsx)(x.Fragment,{})})}function X(){var e=(0,R.TH)().pathname.split("/")[2],n=(0,i.useState)(!1),t=(0,r.Z)(n,2),a=t[0],o=t[1],c=(0,i.useState)(!1),s=(0,r.Z)(c,2),l=s[0],u=s[1];function f(){o(!1),u(!1),document.body.style.overflow=""}var h=(0,d.I0)(),v=(0,d.v9)(T.Z9),g=(0,d.v9)(Z.OY);return(0,i.useEffect)((function(){h((0,m.Ez)()),h((0,y.Gr)())}),[h]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(W,{}),(0,x.jsxs)(I,{children:[(0,x.jsxs)(L,{children:[(0,x.jsx)("ul",{children:g.map((function(e){return(0,x.jsx)(U,{section:e})}))}),(0,x.jsx)("button",{type:"button",onClick:function(){return u(!0)},children:"Add Section"}),l&&(0,x.jsx)(q.u,{onClick:function(){return f()},active:l,setActive:u,children:(0,x.jsx)(b,{onClick:function(e){return e.stopPropagation()},setModalSectionActive:u})}),a&&(0,x.jsx)(q.u,{onClick:function(){return f()},active:a,setActive:o,children:(0,x.jsx)(p,{onClick:function(e){return e.stopPropagation()},setModalActive:o,category:e,itemsCategory:v})})]}),(0,x.jsx)(Q.default,{setModalActive:o})]})]})}},6188:function(e,n,t){t.r(n),t.d(n,{default:function(){return ne}});var r,i,a,o,c,s,l,u,d,m=t(9434),f=function(e){return e.filter},x=t(9439),p=t(2791),h=t(2658),v=t(168),g=t(6444),j=t(6856),Z=g.ZP.li(r||(r=(0,v.Z)(["\n    display: flex;\n"]))),y=g.ZP.button(i||(i=(0,v.Z)(["\n    width: 200px;\n"]))),b=(g.ZP.div(a||(a=(0,v.Z)(["\n    /* flex-direction: column;\n    font-size: 25px; */\n"]))),g.ZP.span(o||(o=(0,v.Z)(["\n\nmargin: auto;\ncursor: pointer;\n\n"])))),N=(0,g.ZP)(j.FH3)(c||(c=(0,v.Z)(["\n    color: red;\n"]))),C=t(5984),_=g.ZP.form(s||(s=(0,v.Z)(["\n    font-size: 25px;\n    border: 1px solid rgb(7, 94, 138);\n    padding: 10px;\n"]))),w=g.ZP.div(l||(l=(0,v.Z)(["\n    display: flex;\n    flex-direction: column;\n"]))),k=g.ZP.input(u||(u=(0,v.Z)(["\n    width: 300px;\n"]))),A=g.ZP.button(d||(d=(0,v.Z)(["\n    color: antiquewhite;\n    min-width: 50px;\n    min-height: 25px;\n    border-radius: 10px;\n    border: 1px solid rgb(7, 94, 138);\n    background-color: rgb(38, 146, 179);\n        &:hover {\n            background-color: rgb(45, 102, 119);\n        }\n        &:focus {\n            background-color: rgb(19, 58, 70);\n}\n"]))),P=t(3965),S=t(184);function F(e){var n=e.itemName,t=e.price,r=e.description,i=e._id,a=e.closeModal,o=(0,m.I0)(),c=(0,p.useState)(n),s=(0,x.Z)(c,2),l=s[0],u=s[1],d=(0,p.useState)(t),f=(0,x.Z)(d,2),h=f[0],v=f[1],g=(0,p.useState)(r),j=(0,x.Z)(g,2),Z=j[0],y=j[1],b=(0,C.x0)(),N=(0,C.x0)(),F=(0,C.x0)();console.log(n,t);var M=function(e){switch(e.currentTarget.name){case"newItemName":u(e.currentTarget.value);break;case"newPrice":v(e.currentTarget.value);break;case"newDescription":y(e.currentTarget.value)}};return(0,S.jsxs)("div",{children:[(0,S.jsx)("form",{children:(0,S.jsxs)(w,{children:[(0,S.jsx)("label",{htmlFor:b,children:"Name"}),(0,S.jsx)(k,{id:b,type:"text",name:"newItemName",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may ",required:!0,defaultValue:n,onChange:M})]})}),(0,S.jsxs)(_,{onClick:function(e){return e.stopPropagation()},onSubmit:function(e){e.preventDefault(),""===h&&v(t),o((0,P.LM)({_id:i,itemName:l,description:Z,price:h})),u(""),y(""),v(""),a()},children:[(0,S.jsxs)(w,{children:[(0,S.jsx)("label",{htmlFor:b,children:"Name"}),(0,S.jsx)(k,{id:b,type:"text",name:"newItemName",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may ",required:!0,defaultValue:n,onChange:M})]}),(0,S.jsxs)(w,{children:[(0,S.jsx)("label",{htmlFor:N,children:"Price"}),(0,S.jsx)(k,{id:N,type:"text",name:"newPrice",pattern:"[0-9]{1,10}",title:"Name may ",required:!0,defaultValue:t,onChange:M})]}),(0,S.jsxs)(w,{children:[(0,S.jsx)("label",{htmlFor:F,children:"Description"}),(0,S.jsx)(k,{id:F,type:"text",name:"newDescription",pattern:"[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may ",required:!0,defaultValue:r,onChange:M})]}),(0,S.jsx)(A,{type:"submit",children:"Change Name"})]})]})}function M(e){var n=e._id,t=e.closeModal,r=(0,m.I0)();return(0,S.jsxs)("div",{onClick:function(e){return e.stopPropagation()},children:["Do you really wont to delete?",(0,S.jsx)("button",{onClick:function(){r((0,P.wz)(n)),t()},children:"yes"})]})}function z(e){var n=e.filteredItem,t=e.itemsCategory,r=(0,C.x0)(),i=n.itemName,a=n.description,o=n.price,c=n._id,s=(0,p.useState)(!1),l=(0,x.Z)(s,2),u=l[0],d=l[1],m=(0,p.useState)(!1),f=(0,x.Z)(m,2),v=f[0],g=f[1];function j(){d(!1),g(!1),document.body.style.overflow=""}return(0,S.jsxs)(S.Fragment,{children:[n&&(0,S.jsxs)(Z,{children:[(0,S.jsxs)(y,{onClick:function(){return g(!0)},children:[(0,S.jsx)("b",{children:"Name:"}),"  ",i," ",(0,S.jsx)("br",{}),(0,S.jsx)("b",{children:"Price:"})," ",o," ",(0,S.jsx)("br",{})]},r),(0,S.jsx)(b,{onClick:function(){return d(!0)},children:(0,S.jsx)(N,{})})]},(0,C.x0)()),u&&(0,S.jsx)(h.u,{onClick:function(){return j()},active:u,setActive:d,children:(0,S.jsx)(M,{closeModal:j,_id:c})}),v&&(0,S.jsx)(h.u,{onClick:function(){return j()},active:v,setActive:g,children:(0,S.jsx)(F,{itemName:i,price:o,description:a,_id:c,itemsCategory:t,closeModal:j,setModalDetailActive:g})})]})}var I,L,T,q,D,$,B,O=t(7689),V=t(8818),Y=function(e){var n=e.itemsCategory,t=e.items,r=(0,O.TH)().pathname.split("/")[2],i=(0,m.I0)();console.log(n);var a=(0,m.v9)(f);return(0,p.useEffect)((function(){i((0,V.Gr)()),void 0===r||i((0,P.$0)({category:r}))}),[i,r,t]),(0,S.jsx)(S.Fragment,{children:(0,S.jsx)("ul",{children:function(){if(!a)return n;var e=a.toLocaleLowerCase();return n.filter((function(n){return n.itemName.toLocaleLowerCase().includes(e)}))}().map((function(e){return(0,S.jsx)(z,{itemsCategory:n,filteredItem:e},e._id)}))})})},E=g.ZP.div(I||(I=(0,v.Z)(["\n    display: flex;\n    flex-direction: column;\n"]))),G=g.ZP.label(L||(L=(0,v.Z)(["\n    font-size: 15px;\n"]))),H=g.ZP.input(T||(T=(0,v.Z)(["\n    width: 200px;\n"]))),J=t(5653),U=function(){var e=(0,m.v9)(f),n=(0,m.I0)(),t=(0,C.x0)();return(0,S.jsxs)(E,{children:[(0,S.jsx)(G,{htmlFor:t,children:"Find items by name"}),(0,S.jsx)(H,{type:"text",name:"filter",value:e,onChange:function(e){var t=e.target.value;n((0,J.T)(t))},title:"Search",required:!0})]})},R=g.ZP.div(q||(q=(0,v.Z)(["\n    margin-left: 5px;\n    width: 250px;\n"]))),Q=g.ZP.p(D||(D=(0,v.Z)(["\n    color: green;\n"]))),K=g.ZP.div($||($=(0,v.Z)(["\n    display: flex;\n    flex-direction: row-reverse;\n"]))),W=g.ZP.button(B||(B=(0,v.Z)(["\n\n"]))),X=t(8770),ee=t(6002);function ne(e){var n=e.setModalActive,t=(0,m.v9)(X.kk),r=(0,m.v9)(X.Z9),i=(0,m.v9)(ee.OY);console.log("sections",i);var a=(0,m.v9)(X.y0),o=a.loading,c=a.error;return(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)(R,{children:[(0,S.jsx)("h2",{children:"Menu"}),(0,S.jsx)(U,{}),(0,S.jsx)(K,{children:(0,S.jsx)(W,{type:"button",onClick:function(){return n(!0)},children:"Add Item"})}),!o&&t.length>0&&(0,S.jsx)(Y,{items:t,itemsCategory:r}),o&&(0,S.jsx)(Q,{children:"...loading"}),c&&(0,S.jsx)("p",{children:"No items yet"})]})})}},2658:function(e,n,t){t.d(n,{u:function(){return c}});t(2791);var r,i=t(168),a=t(6444).ZP.div(r||(r=(0,i.Z)(["\n  position: fixed;\n  z-index: 1000;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(17, 17, 17, 0.6);\n  backdrop-filter: blur(10px);\n  overflow-y: scroll;\n  overflow-x: hidden;\n  transition: 0.5s;\n  align-items: center;\njustify-content: center;\n  display: flex;\n  opacity: 0;\npointer-events: none;\ntransition: 1s;\n&.active {\n    opacity: 1;\n    pointer-events: all;\n  };\n"]))),o=t(184),c=function(e){var n=e.active,t=(e.className,e.onClick),r=e.setActive,i=e.children;return window.addEventListener("keydown",(function(e){"Escape"===e.code&&(r(!1),document.body.style.overflow="")})),(0,o.jsx)(a,{className:n?"modal active":"modal",onClick:t,children:i})}},8770:function(e,n,t){t.d(n,{C3:function(){return i},Z9:function(){return o},fN:function(){return a},kk:function(){return r},y0:function(){return c}});var r=function(e){return e.items.items},i=function(e){return e.items.itemsLive},a=function(e){return e.items.isLive},o=function(e){return e.items.itemsByCategory},c=function(e){var n=e.items;return{loading:n.loading,error:n.error}}},6002:function(e,n,t){t.d(n,{OY:function(){return r}});var r=function(e){return e.sections.sections}}}]);
//# sourceMappingURL=947.10fc7d00.chunk.js.map